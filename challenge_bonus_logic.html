<!DOCTYPE html>
<html>
<head>
    <title>Bonus Challenge — Type Coercion Flaw</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <h1>Bonus Challenge — Logic Flaw / Type Coercion</h1>

    <div class="challenge">
        <p>
            The system checks a secret 4 digit admin passcode.<br>
            However, the developer made a dangerous logic mistake  
            involving JavaScript's <strong>type coercion</strong>.
        </p>

        <input id="codeInput" placeholder="Enter passcode">
        <button onclick="checkCode()">Submit</button>

        <p id="codeResult"></p>
    </div>

    <script>
        // Intended:
        //    if (input === secret)
        //
        // Vulnerable version:
        //    if (Number(input) == secret)

        const secret = 0;

        function checkCode() {
            const raw = document.getElementById("codeInput").value;

            // Developer "sanitizes" input by converting to a number (bad idea)
            const coerced = Number(raw);

            if (coerced == secret) {
                document.getElementById("codeResult").innerHTML =
                    "Access granted!<br><strong>flag{simple_ctf_logic}</strong>";
            } else {
                document.getElementById("codeResult").innerText =
                    "Access denied.";
            }
        }
    </script>
</div>
</body>
</html>
